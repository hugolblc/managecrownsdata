[{"path":"https://hugolblc.github.io/managecrownsdata/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 managecrownsdata authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Hugo Leblanc. Author, maintainer.","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Leblanc H (2024). managecrownsdata: Package (One Line, Title Case). R package version 0.0.0.9000, https://hugolblc.github.io/managecrownsdata/, https://github.com/hugolblc/managecrownsdata.","code":"@Manual{,   title = {managecrownsdata: What the Package Does (One Line, Title Case)},   author = {Hugo Leblanc},   year = {2024},   note = {R package version 0.0.0.9000, https://hugolblc.github.io/managecrownsdata/},   url = {https://github.com/hugolblc/managecrownsdata}, }"},{"path":"https://hugolblc.github.io/managecrownsdata/index.html","id":"managecrownsdata","dir":"","previous_headings":"","what":"What the Package Does (One Line, Title Case)","title":"What the Package Does (One Line, Title Case)","text":"package Citation Install Documentation use managecrownsdata General advices Generate orthomosaics Extract crowns images Create labeling file","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/index.html","id":"the-package","dir":"","previous_headings":"","what":"The package","title":"What the Package Does (One Line, Title Case)","text":"R package aims streamlining, standardizing facilitating processing repetead UAV surveys R. focuses (now) RGB data. notably allows generating 3D 4D mosaics & mosaics spatial alignment using state---art approaches, provides tools generate reference labels, segment crowns (now) classify crown phenophases (now).","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"What the Package Does (One Line, Title Case)","text":"cite ‘managecrownsdata’, please use citation(‘managecrownsdata’).","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"What the Package Does (One Line, Title Case)","text":"","code":"library(devtools) install_github(\"https://github.com/hugolblc/managecrownsdata.git\")"},{"path":"https://hugolblc.github.io/managecrownsdata/index.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"What the Package Does (One Line, Title Case)","text":"addition usual R package documentation, also extensive docs examples : https://hugolblc.github.io/managecrownsdata/","code":""},{"path":[]},{"path":"https://hugolblc.github.io/managecrownsdata/index.html","id":"python-environment","dir":"","previous_headings":"","what":"Python environment","title":"What the Package Does (One Line, Title Case)","text":"First, make sure python>3.9 anaconda / miniconda installed device. , can download using following links : https://www.python.org/downloads/ https://www.anaconda.com/download/ completing installation steps, can create python environment contain everything need call package’s functions.","code":"# Imports library(reticulate) library(managecrownsdata) # Python env creation env_name <- \"managecrownsdata_env\"   # use the name you want for your environment environment = file.path( system.file(package=\"managecrownsdata\"), 'PYTHON/environment.yaml')   # use the environment.yaml file included in the package  conda_create(env_name, environment = environment) use_condaenv(env_name)"},{"path":"https://hugolblc.github.io/managecrownsdata/index.html","id":"metashape","dir":"","previous_headings":"","what":"Metashape","title":"What the Package Does (One Line, Title Case)","text":"environment just created contains already necessary dependences Metashape python API, required align photos using TimeSIFT. install , first need download file Metashape website : https://www.agisoft.com/downloads/installer/. Go “Python 3 module” section click link corresponding operating system. download file named “Metashape[…].whl”. , copy path downloaded .whl file ","code":"# Add metashape API to env path_to_whl_file <- \"MYPATH/Metashape-2.1.3-cp37.cp38.cp39.cp310.cp311-none-win_amd64.whl\"   #replace with your path  py_install(path_to_whl_file, envname = env_name, pip=TRUE)"},{"path":"https://hugolblc.github.io/managecrownsdata/index.html","id":"metashape-license-activation","dir":"","previous_headings":"Metashape","what":"Metashape license activation","title":"What the Package Does (One Line, Title Case)","text":"python environment ready use now. However, Agisoft Metashape requires paid license order access features. necessary Metashape application installed device order python API work, whether application installed /activated, API still needs activated using license key (can used application already installed). activate key, follow steps : Open anaconda command prompt Activate environnement just created : $ conda activate managecrownsdata_env start python activate licence : $ python >>> import Metashape >>> Metashape.license.activate(“AAAA-BBBB-CCCC-DDDD”) # replace license key works, can close command prompt. good go !","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/index.html","id":"general-advices","dir":"","previous_headings":"","what":"General advices","title":"What the Package Does (One Line, Title Case)","text":"order facilitate use package ensure lost following documentation, strongly recommend following data structure given . create architecture can use function create_files_architecture(). Recommended files organization","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/index.html","id":"generate-orthomosaics","dir":"","previous_headings":"","what":"Generate orthomosaics","title":"What the Package Does (One Line, Title Case)","text":"One main functions package generate orthomosaics R, using arosics(AROSICS) Metashape python API. guide step step workflow, download test dataset () follow instructions : https://hugolblc.github.io/managecrownsdata/articles/generate_orthomosaics.html test data consists drone images zone taken two different dates r functions arosics() Time_SIFT() uses make orthomosaics. Generate mosaics drone images","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/index.html","id":"extract-crowns-images","dir":"","previous_headings":"","what":"Extract crowns images","title":"What the Package Does (One Line, Title Case)","text":"guide step step workflow, follow instructions : https://hugolblc.github.io/managecrownsdata/articles/extract_crowns_images.html run exemples, data included packages. order reduce size data, reduced spatial resolution images. Extract crowns images","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/index.html","id":"create-labeling-file","dir":"","previous_headings":"","what":"Create labeling file","title":"What the Package Does (One Line, Title Case)","text":"crowns images can associate manually label difine vegetative /reproductive state trees different date. create xlsx file whith create_labelingFile() function. information (https://hugolblc.github.io/managecrownsdata/reference/create_labellingFile.html) Labeling file manual labelling","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/Time_SIFT.html","id":null,"dir":"Reference","previous_headings":"","what":"Implement Time-SIFT in R — Time_SIFT","title":"Implement Time-SIFT in R — Time_SIFT","text":"Implementation R pipeline performs Time-SIFT process time series drone images using Metashape python API. photos loaded aligned, orthomosaics (optionally) DEMs generated date flight.","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/Time_SIFT.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Implement Time-SIFT in R — Time_SIFT","text":"","code":"Time_SIFT(   pathDIR,   out_dir_ortho,   out_dir_DEM = NULL,   out_dir_project = NULL,   data_type = \"RGB\",   resol_ref = 0.05,   crs = \"EPSG::32622\",   site_name = \"\",   calibrate_col = TRUE,   sun_sensor = FALSE,   group_by_flight = FALSE,   downscale_factor_alignement = 1L,   downscale_factor_depth_map = 2L )"},{"path":"https://hugolblc.github.io/managecrownsdata/reference/Time_SIFT.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Implement Time-SIFT in R — Time_SIFT","text":"pathDIR chr. Path folder data located. Inside folder, structure subfolders containing images accepted, long date specified folders' name YYYYMMDD/YYYYMM format. date used later distinct image belongs date building orthomosaics. out_dir_ortho chr. Folder orthomosaics saved. out_dir_DEM chr. Folder DEMs saved. path specified, DEMs saved default. out_dir_project chr. Folder Metashape project saved. path specified, project saved default. data_type chr. type data used. Either 'RGB' (default) 'MS' (multispectral images). resol_ref num. resolution (meters) used generate DEMs orthomosaics. Defaults 0.05. crs chr. Coordinate system used orthomosaic, string format. Example: crs=\"EPSG::32622\" (default value). site_name chr. Adds data site name names created folders files, better separate generated data different projects. specified, names stay generic. calibrate_col logical. Applies white balance. sun_sensor logical. Calibrates reflectance using sun sensor. applies multispectral images. group_by_flight logical. Regroups data flight (.e. one orthomosaic subfolder input folder containing images). FALSE, regroups date (default). downscale_factor_alignement int. Alignment accuracy (0 - Highest, 1 - High, 2 - Medium, 4 - Low, 8 - Lowest). Defaults 1. downscale_factor_depth_map int. Depth map quality (1 - Ultra high, 2 - High, 4 - Medium, 8 - Low, 16 - Lowest). Defaults 2.","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/Time_SIFT.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Implement Time-SIFT in R — Time_SIFT","text":"None","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/Time_SIFT.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Implement Time-SIFT in R — Time_SIFT","text":"","code":"if (FALSE) { # \\dontrun{ library(reticulate)  Time_SIFT(pathDIR = \"path_to_my_drone_data\",                out_dir_ortho = \"my_output_folder/ORTHO\",                #out_dir_DEM = \"my_output_folder/DEM\",                data_type = \"RGB\",                resol_ref = 0.5,                site_name = \"Bouamir\",                crs = \"EPSG::32633\",                )  Time_SIFT(pathDIR = \"path_to_my_drone_data\",                out_dir_ortho = \"my_output_folder/ORTHO\",                #out_dir_DEM = \"my_output_folder/DEM\",                data_type = \"MS\",                sun_sensor = TRUE,                crs = \"EPSG::32622\",                downscale_factor_depth_map = 4,                group_by_flight = TRUE                )                } # }"},{"path":"https://hugolblc.github.io/managecrownsdata/reference/arosics.html","id":null,"dir":"Reference","previous_headings":"","what":"Implement AROSICS in R — arosics","title":"Implement AROSICS in R — arosics","text":"Implementation R pipeline uses arosics(AROSICS) perform global local co-registration file group files located inside folder","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/arosics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Implement AROSICS in R — arosics","text":"","code":"arosics(   path_in,   ref_filepath,   out_dir_path,   corr_type = \"global\",   max_shift = 250L,   max_iter = 100L,   grid_res = 1000L,   window_size = NULL,   window_pos = list(NULL, NULL),   mp = NULL,   save_data = TRUE,   save_vector_plot = FALSE,   dynamic_corr = FALSE,   apply_matrix = FALSE )"},{"path":"https://hugolblc.github.io/managecrownsdata/reference/arosics.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Implement AROSICS in R — arosics","text":"path_in chr. Path target image, folder containing multiple target images. Images must Geotiff format. ref_filepath chr. Path reference image. out_dir_path chr. Directory outputs saved. corr_type chr. Type co-registration. Either 'global' (default) 'local'. max_shift int. Maximum shift distance reference image pixel units max_iter int. Maximum number iterations matching (default: 5). grid_res int. Tie point grid resolution pixels target image (x-direction). applies local co-registration. window_size int. Custom matching window size pixels (X, Y) tuple (default: (1000, 1000)). window_pos tuple. Custom matching window position (X, Y) map coordinate projection reference image (default: central position image overlap). used performing global co-registration. mp int. Number CPUs use. None (default), available CPUs used. mp=1, multiprocessing done. save_data logical. Saves transformation metadata .pkl file, tie points data csv file. latter happens performing local co-registration. save_vector_plot logical. saves map calculated tie point grid JPEG file. effect performing local co-registration. dynamic_corr logical. correcting multiple images, uses last corrected image reference next co-registration. False (default), images corrected using 'ref_filepath' reference image. True, image 1 use 'ref_filepath' reference, image N (N>=2) use corrected version image N-1 reference. apply_matrix logical. correcting multiple images, applies shifts computed first image remaining ones, instead computing shifts independently. Allows better alignement faster computing time. WARNING : Currently, inputs images extent, temporary padded images need created. hope change soon ; , apply_matrix disabled default)","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/arosics.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Implement AROSICS in R — arosics","text":"None","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/arosics.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Implement AROSICS in R — arosics","text":"","code":"if (FALSE) { # \\dontrun{ library(reticulate)  arosics(path_in = \"path_to_ortho.tif\",              ref_filepath = \"ref_image.tif\",              out_dir_path = \"my_output_dir\",              corr_type = \"local\",              grid_res = 500,              save_data = TRUE,              save_vector_plot = TRUE,              )  arosics(path_in = \"path_to_input_folder\",              ref_filepath = \"ref_image.tif\",              out_dir_path = \"my_output_dir\",              corr_type = \"local\",              grid_res = 500,              save_data = FALSE,              dynamic_corr = TRUE,              mp = 5,              )  arosics(path_in = \"path_to_input_folder\",              ref_filepath = \"ref_image.tif\",              out_dir_path = \"my_output_dir\",              corr_type = \"global\",              max_shift = 200,              save_data = TRUE,              dynamic_corr = FALSE,              apply_matrix = TRUE,              mp = 1,              )              } # }"},{"path":"https://hugolblc.github.io/managecrownsdata/reference/check_availableCrowns.html","id":null,"dir":"Reference","previous_headings":"","what":"Check the number of crowns included in each image — check_availableCrowns","title":"Check the number of crowns included in each image — check_availableCrowns","text":"extend images can changed one image another, function return number crowns included image vector id contained id.","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/check_availableCrowns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check the number of crowns included in each image — check_availableCrowns","text":"","code":"check_availableCrowns(path_bbox, crownsFile, dates = NULL)"},{"path":"https://hugolblc.github.io/managecrownsdata/reference/check_availableCrowns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check the number of crowns included in each image — check_availableCrowns","text":"path_bbox path non NA Bbox return function extract_bboxImages() crownsFile sf object  crowns 'id' variable. dates chr. Vector dates (format '%Y%m%d', p.e '20220925'). order dates match order dates image path_bbox","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/check_availableCrowns.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check the number of crowns included in each image — check_availableCrowns","text":"list dotchart","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/check_availableCrowns.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check the number of crowns included in each image — check_availableCrowns","text":"","code":"library(sf) #> Linking to GEOS 3.10.2, GDAL 3.4.1, PROJ 8.2.1; sf_use_s2() is TRUE  crownsFile <- sf::st_read( file.path( system.file(package=\"managecrownsdata\"), 'crowns/Bouamir_crowns.gpkg') ) #> Reading layer `Bouamir_crowns' from data source  #>   `/home/runner/work/_temp/Library/managecrownsdata/crowns/Bouamir_crowns.gpkg'  #>   using driver `GPKG' #> Simple feature collection with 41 features and 29 fields #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 257251 ymin: 353460.9 xmax: 257439.1 ymax: 353602.9 #> Projected CRS: WGS 84 / UTM zone 33N  path_bbox <- list.files( file.path( system.file(package=\"managecrownsdata\"), 'bbox/'), full.names = TRUE )  dates <- extr_dates(basename(path_bbox))  check_availableCrowns(path_bbox = path_bbox, crownsFile = crownsFile, dates = dates) #> Reading layer `NonNA_area_20220427' from data source  #>   `/home/runner/work/_temp/Library/managecrownsdata/bbox/NonNAarea_20220427.gpkg'  #>   using driver `GPKG' #> Simple feature collection with 1 feature and 1 field #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 257248.8 ymin: 353458.3 xmax: 257439.6 ymax: 353607.3 #> Projected CRS: WGS 84 / UTM zone 33N #> Reading layer `NonNA_area_20220511' from data source  #>   `/home/runner/work/_temp/Library/managecrownsdata/bbox/NonNAarea_20220511.gpkg'  #>   using driver `GPKG' #> Simple feature collection with 1 feature and 1 field #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 257248.8 ymin: 353458.4 xmax: 257439.6 ymax: 353607.3 #> Projected CRS: WGS 84 / UTM zone 33N #> Reading layer `NonNA_area_20220525' from data source  #>   `/home/runner/work/_temp/Library/managecrownsdata/bbox/NonNAarea_20220525.gpkg'  #>   using driver `GPKG' #> Simple feature collection with 1 feature and 1 field #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 257248.8 ymin: 353459.6 xmax: 257440.3 ymax: 353607.3 #> Projected CRS: WGS 84 / UTM zone 33N #> Reading layer `NonNA_area_20220610' from data source  #>   `/home/runner/work/_temp/Library/managecrownsdata/bbox/NonNAarea_20220610.gpkg'  #>   using driver `GPKG' #> Simple feature collection with 1 feature and 1 field #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 257248.9 ymin: 353458.8 xmax: 257439.8 ymax: 353607.3 #> Projected CRS: WGS 84 / UTM zone 33N #> Reading layer `NonNA_area_20220624' from data source  #>   `/home/runner/work/_temp/Library/managecrownsdata/bbox/NonNAarea_20220624.gpkg'  #>   using driver `GPKG' #> Simple feature collection with 1 feature and 1 field #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 257248.8 ymin: 353458.8 xmax: 257439.8 ymax: 353607.3 #> Projected CRS: WGS 84 / UTM zone 33N #> Reading layer `NonNA_area_20220427' from data source  #>   `/home/runner/work/_temp/Library/managecrownsdata/bbox/NonNAarea_20220427.gpkg'  #>   using driver `GPKG' #> Simple feature collection with 1 feature and 1 field #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 257248.8 ymin: 353458.3 xmax: 257439.6 ymax: 353607.3 #> Projected CRS: WGS 84 / UTM zone 33N #> Reading layer `NonNA_area_20220511' from data source  #>   `/home/runner/work/_temp/Library/managecrownsdata/bbox/NonNAarea_20220511.gpkg'  #>   using driver `GPKG' #> Simple feature collection with 1 feature and 1 field #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 257248.8 ymin: 353458.4 xmax: 257439.6 ymax: 353607.3 #> Projected CRS: WGS 84 / UTM zone 33N #> Reading layer `NonNA_area_20220525' from data source  #>   `/home/runner/work/_temp/Library/managecrownsdata/bbox/NonNAarea_20220525.gpkg'  #>   using driver `GPKG' #> Simple feature collection with 1 feature and 1 field #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 257248.8 ymin: 353459.6 xmax: 257440.3 ymax: 353607.3 #> Projected CRS: WGS 84 / UTM zone 33N #> Reading layer `NonNA_area_20220610' from data source  #>   `/home/runner/work/_temp/Library/managecrownsdata/bbox/NonNAarea_20220610.gpkg'  #>   using driver `GPKG' #> Simple feature collection with 1 feature and 1 field #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 257248.9 ymin: 353458.8 xmax: 257439.8 ymax: 353607.3 #> Projected CRS: WGS 84 / UTM zone 33N #> Reading layer `NonNA_area_20220624' from data source  #>   `/home/runner/work/_temp/Library/managecrownsdata/bbox/NonNAarea_20220624.gpkg'  #>   using driver `GPKG' #> Simple feature collection with 1 feature and 1 field #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 257248.8 ymin: 353458.8 xmax: 257439.8 ymax: 353607.3 #> Projected CRS: WGS 84 / UTM zone 33N  #> $`20220427` #>  [1] 366 427 428 429 433 436 665 666 667 668 669 670 671 673 674 675 676 678 679 #> [20] 680 681 682 684 685 686 687 688 689 694 695 696 697 698 699 700 701 702 703 #> [39] 705 710 711 #>  #> $`20220511` #>  [1] 366 427 428 429 433 436 665 666 667 668 669 670 671 673 674 675 676 678 679 #> [20] 680 681 682 684 685 686 687 688 689 694 695 696 697 698 699 700 701 702 703 #> [39] 705 710 711 #>  #> $`20220525` #>  [1] 366 427 428 429 433 436 665 666 667 668 669 670 671 673 674 675 676 678 679 #> [20] 680 681 682 684 685 686 687 688 689 694 695 696 697 698 699 700 701 702 703 #> [39] 705 710 711 #>  #> $`20220610` #>  [1] 366 427 428 429 433 436 665 666 667 668 669 670 671 673 674 675 676 678 679 #> [20] 680 681 682 684 685 686 687 688 689 694 695 696 697 698 699 700 701 702 703 #> [39] 705 710 711 #>  #> $`20220624` #>  [1] 366 427 428 429 433 436 665 666 667 668 669 670 671 673 674 675 676 678 679 #> [20] 680 681 682 684 685 686 687 688 689 694 695 696 697 698 699 700 701 702 703 #> [39] 705 710 711 #>"},{"path":"https://hugolblc.github.io/managecrownsdata/reference/check_crownsFile.html","id":null,"dir":"Reference","previous_headings":"","what":"Check the crown file compatibility — check_crownsFile","title":"Check the crown file compatibility — check_crownsFile","text":"Check crown file compatibility managecrownsdata functions. Return text, give informations file modifications needed.","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/check_crownsFile.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check the crown file compatibility — check_crownsFile","text":"","code":"check_crownsFile(crownsFile)"},{"path":"https://hugolblc.github.io/managecrownsdata/reference/check_crownsFile.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check the crown file compatibility — check_crownsFile","text":"crownsFile sf object crowns.","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/check_crownsFile.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check the crown file compatibility — check_crownsFile","text":"Text give information file. Indicates whether file compatible  functions package. Pay attention line starting '– ERROR –'.","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/check_crownsFile.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check the crown file compatibility — check_crownsFile","text":"","code":"library(sf)  crownsFile <- sf::st_read( file.path( system.file(package=\"managecrownsdata\"), 'crowns/Bouamir_crowns.gpkg') ) #> Reading layer `Bouamir_crowns' from data source  #>   `/home/runner/work/_temp/Library/managecrownsdata/crowns/Bouamir_crowns.gpkg'  #>   using driver `GPKG' #> Simple feature collection with 41 features and 29 fields #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 257251 ymin: 353460.9 xmax: 257439.1 ymax: 353602.9 #> Projected CRS: WGS 84 / UTM zone 33N  check_crownsFile(crownsFile) #> ##########     VARIABLES CHECK     ########## #> -                                           - #> -- ERROR --  :   geometry variable missing or not well named #> --- OK ----  :   id #> --- OK ----  :   family #> --- OK ----  :   genus #> --- OK ----  :   species #> --- OK ----  :   plot_name #> --- OK ----  :   code_sp #> -                                           - #> -                                           - #> ##########           CRS           ########## #> -                                           - #> CRS : WGS 84 / UTM zone 33N #> -                                           - #> -                                           - #> ##########   DUPLICATED ID CHECK   ########## #> -                                           - #> --- OK ----  :  There is no duplicated id  crownsFile <- crownsFile %>% dplyr::rename(geometry = geom)  check_crownsFile(crownsFile) #> ##########     VARIABLES CHECK     ########## #> -                                           - #> --- OK ----  :   geometry #> --- OK ----  :   id #> --- OK ----  :   family #> --- OK ----  :   genus #> --- OK ----  :   species #> --- OK ----  :   plot_name #> --- OK ----  :   code_sp #> -                                           - #> -                                           - #> ##########           CRS           ########## #> -                                           - #> CRS : WGS 84 / UTM zone 33N #> -                                           - #> -                                           - #> ##########   DUPLICATED ID CHECK   ########## #> -                                           - #> --- OK ----  :  There is no duplicated id"},{"path":"https://hugolblc.github.io/managecrownsdata/reference/create_files_architecture.html","id":null,"dir":"Reference","previous_headings":"","what":"Create the recommended files architecture — create_files_architecture","title":"Create the recommended files architecture — create_files_architecture","text":"function just create recommended files architecture.","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/create_files_architecture.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create the recommended files architecture — create_files_architecture","text":"","code":"create_files_architecture(path = NULL, main_folder_name = NULL)"},{"path":"https://hugolblc.github.io/managecrownsdata/reference/create_files_architecture.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create the recommended files architecture — create_files_architecture","text":"path chr. path create main folder main_folder_name chr. name main folder","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/create_files_architecture.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create the recommended files architecture — create_files_architecture","text":"","code":"if (FALSE) { # \\dontrun{  create_files_architecture(path=file.path(Sys.getenv(\"USERPROFILE\"),\"Desktop\"),main_folder_name = 'UAV_observatory_data')  } # }"},{"path":"https://hugolblc.github.io/managecrownsdata/reference/create_labelingFile.html","id":null,"dir":"Reference","previous_headings":"","what":"Create xlsx labeling file — create_labelingFile","title":"Create xlsx labeling file — create_labelingFile","text":"function create xlsx file labeling","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/create_labelingFile.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create xlsx labeling file — create_labelingFile","text":"","code":"create_labelingFile(   crownsFile,   site = NULL,   dates = NULL,   save_xlsx = FALSE,   directory = NULL )"},{"path":"https://hugolblc.github.io/managecrownsdata/reference/create_labelingFile.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create xlsx labeling file — create_labelingFile","text":"crownsFile sf object. crowns delineation file. include 'id', 'species', 'genus' 'family' columns. site chr. site name. dates chr. vector dates (format 'YYYYMMDD', p.e '20220925'). save_xlsx logical. TRUE, save table xlsx file. Indicate path directory parameters directory path save xlsx file.","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/create_labelingFile.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create xlsx labeling file — create_labelingFile","text":"","code":"library(sf) library(dplyr) #>  #> Attaching package: ‘dplyr’ #> The following objects are masked from ‘package:stats’: #>  #>     filter, lag #> The following objects are masked from ‘package:base’: #>  #>     intersect, setdiff, setequal, union library(stringr)  rgb_paths <- list.files( file.path( system.file(package=\"managecrownsdata\"), 'rgb/'), full.names = TRUE ) path_crownsFile <- file.path( system.file(package=\"managecrownsdata\"), 'crowns/Bouamir_crowns.gpkg' ) crownsFile <- sf::read_sf(path_crownsFile)  site = 'Bouamir' dates <- paste( str_sub(stringr::str_split(basename(rgb_paths), '_', simplify = TRUE)[,2],1,4), str_sub(stringr::str_split(basename(rgb_paths), '_', simplify = TRUE)[,2],5,6), str_sub(stringr::str_split(basename(rgb_paths), '_', simplify = TRUE)[,2],7,8), sep = '' )  check_crownsFile(crownsFile = crownsFile) #> ##########     VARIABLES CHECK     ########## #> -                                           - #> -- ERROR --  :   geometry variable missing or not well named #> --- OK ----  :   id #> --- OK ----  :   family #> --- OK ----  :   genus #> --- OK ----  :   species #> --- OK ----  :   plot_name #> --- OK ----  :   code_sp #> -                                           - #> -                                           - #> ##########           CRS           ########## #> -                                           - #> CRS : WGS 84 / UTM zone 33N #> -                                           - #> -                                           - #> ##########   DUPLICATED ID CHECK   ########## #> -                                           - #> --- OK ----  :  There is no duplicated id  crownsFile <- crownsFile %>% rename( geometry = geom )  check_crownsFile(crownsFile = crownsFile) #> ##########     VARIABLES CHECK     ########## #> -                                           - #> --- OK ----  :   geometry #> --- OK ----  :   id #> --- OK ----  :   family #> --- OK ----  :   genus #> --- OK ----  :   species #> --- OK ----  :   plot_name #> --- OK ----  :   code_sp #> -                                           - #> -                                           - #> ##########           CRS           ########## #> -                                           - #> CRS : WGS 84 / UTM zone 33N #> -                                           - #> -                                           - #> ##########   DUPLICATED ID CHECK   ########## #> -                                           - #> --- OK ----  :  There is no duplicated id  create_labelingFile( crownsFile = crownsFile, site = site, dates = dates, save_xlsx = FALSE ) #> # A tibble: 41 × 14 #>    site       id species   genus family     n obs   update `20220427` `20220511` #>    <chr>   <dbl> <chr>     <chr> <chr>  <int> <lgl> <lgl>  <lgl>      <lgl>      #>  1 Bouamir   665 Desborde… Desb… Irvin…    19 NA    NA     NA         NA         #>  2 Bouamir   666 Desborde… Desb… Irvin…    19 NA    NA     NA         NA         #>  3 Bouamir   668 Desborde… Desb… Irvin…    19 NA    NA     NA         NA         #>  4 Bouamir   669 Desborde… Desb… Irvin…    19 NA    NA     NA         NA         #>  5 Bouamir   670 Desborde… Desb… Irvin…    19 NA    NA     NA         NA         #>  6 Bouamir   671 Desborde… Desb… Irvin…    19 NA    NA     NA         NA         #>  7 Bouamir   673 Desborde… Desb… Irvin…    19 NA    NA     NA         NA         #>  8 Bouamir   674 Desborde… Desb… Irvin…    19 NA    NA     NA         NA         #>  9 Bouamir   676 Desborde… Desb… Irvin…    19 NA    NA     NA         NA         #> 10 Bouamir   678 Desborde… Desb… Irvin…    19 NA    NA     NA         NA         #> # ℹ 31 more rows #> # ℹ 4 more variables: `20220525` <lgl>, `20220610` <lgl>, `20220624` <lgl>, #> #   Comm <lgl>"},{"path":"https://hugolblc.github.io/managecrownsdata/reference/create_nonNA_bboxImages.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract and export the non NA area of images. — create_nonNA_bboxImages","title":"Extract and export the non NA area of images. — create_nonNA_bboxImages","text":"function extract area images covered non NA values return sf object one polygon per image.","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/create_nonNA_bboxImages.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract and export the non NA area of images. — create_nonNA_bboxImages","text":"","code":"create_nonNA_bboxImages(   path_in,   dates = NULL,   directory = NULL,   filename = NULL )"},{"path":"https://hugolblc.github.io/managecrownsdata/reference/create_nonNA_bboxImages.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract and export the non NA area of images. — create_nonNA_bboxImages","text":"path_in vector full paths RGB rasters images. dates chr. Vector dates (format '%Y%m%d', p.e '20220925'). order dates match order dates image path_in directory chr. path directory used export vectors. One file export per date. NULL, vector exported. filename logical. name files.","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/create_nonNA_bboxImages.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract and export the non NA area of images. — create_nonNA_bboxImages","text":"","code":"rgb_paths <- list.files( file.path( system.file(package=\"managecrownsdata\"), 'rgb/'), full.names = TRUE )  #bbox <- create_nonNA_bboxImages( #path_in = rgb_paths, #directory = my_directory)"},{"path":"https://hugolblc.github.io/managecrownsdata/reference/extr_dates.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract dates from files names — extr_dates","title":"Extract dates from files names — extr_dates","text":"Extract dates files names","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/extr_dates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract dates from files names — extr_dates","text":"","code":"extr_dates(names_img)"},{"path":"https://hugolblc.github.io/managecrownsdata/reference/extr_dates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract dates from files names — extr_dates","text":"names_img chr. files basenames.","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/extract_crownsImages.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract crowns images — extract_crownsImages","title":"Extract crowns images — extract_crownsImages","text":"function extracts save .jpeg images crown date.","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/extract_crownsImages.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract crowns images — extract_crownsImages","text":"","code":"extract_crownsImages(   path_images,   crownsFile,   path_bbox,   path_out,   site = NULL,   dates = NULL,   N_cores = 1,   width = 720,   height = 825 )"},{"path":"https://hugolblc.github.io/managecrownsdata/reference/extract_crownsImages.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract crowns images — extract_crownsImages","text":"path_images list full paths RGB rasters. crownsFile sf object path_bbox path non NA Bbox returned function extract_bboxImages(). order bbox match order images path_images path_out chr. path directory use stored images. function create folder, need exists. site chr. name site, p.e 'Mbalmayo'. dates chr. Vector dates (format '%Y_%m_%d', p.e '2022_09_25'). order dates match order dates image path_images N_cores xx width num. width device height num. height device","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/extract_crownsImages.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Extract crowns images — extract_crownsImages","text":"extract_crownsImages() create one folder per id save images. folder names 'crown_the idthe species name' exemple 'crown_5_Lophira alata'. images names 'crownthe idthe species namethe date.jpeg' exemple 'crown_5_Lophira alata_2022-11-08.jpeg'. function upload square image neighbouring tree title add top, image size 720*825 pixels. specific_quality TRUE, image size can changed specifying height width parameters.","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/extract_crownsImages.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract crowns images — extract_crownsImages","text":"","code":"if (FALSE) { # \\dontrun{ library(sf) library(dplyr)  crownsFile <- sf::st_read( file.path( system.file(package=\"managecrownsdata\"), 'crowns/Bouamir_crowns.gpkg' ) )  check_crownsFile(crownsFile = crownsFile)  crownsFile <- crownsFile %>% dplyr::rename(    geometry = geom )  check_crownsFile(crownsFile = crownsFile)  extract_crownsImages(       path_images = rgb_paths,       crownsFile = crownsFile,       path_bbox,       path_out,       site = NULL,       dates = NULL,       N_cores = 1,       width = 720,       height = 825    ) } # }"},{"path":"https://hugolblc.github.io/managecrownsdata/reference/extract_rgbValues.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract RGB metrics — extract_rgbValues","title":"Extract RGB metrics — extract_rgbValues","text":"function extracts RGB metrics (red, green, blue, sumrgb, rcc, gcc, bcc, gndvi, gli) crown date. first compute metrics whole mosaics extracts value crown scale using exactextractr::exact_extract function. mean / variance can extracted (see 'fun' parameter).","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/extract_rgbValues.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract RGB metrics — extract_rgbValues","text":"","code":"extract_rgbValues(   crownsFile,   path_images,   sites = NULL,   dates = NULL,   fun = \"all\",   infos = FALSE )"},{"path":"https://hugolblc.github.io/managecrownsdata/reference/extract_rgbValues.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract RGB metrics — extract_rgbValues","text":"crownsFile sf object crowns delineation. path_images list full paths RGB rasters. sites chr. name site, p.e 'Mbalmayo'. dates chr. vector dates (format 'yyyy_mm_dd', p.e '2022_09_25'). order dates match order path_images ! fun chr. Specify function used 'fun' parameter exactextractr::exact_extract function extract RGB values, 'mean', 'var' ''. infos logical. Specify whether return details extraction. TRUE, specify crowns extracting per date, image.","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/extract_rgbValues.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract RGB metrics — extract_rgbValues","text":"","code":"library(sf) library(dplyr)  path_crownsFile <- file.path( system.file(package=\"managecrownsdata\"), 'crowns/Bouamir_crowns.gpkg') crownsFile <- sf::read_sf(path_crownsFile) rgb_paths <- list.files( file.path( system.file(package=\"managecrownsdata\"), 'rgb/'), full.names = TRUE )  check_crownsFile(crownsFile = crownsFile) #> ##########     VARIABLES CHECK     ########## #> -                                           - #> -- ERROR --  :   geometry variable missing or not well named #> --- OK ----  :   id #> --- OK ----  :   family #> --- OK ----  :   genus #> --- OK ----  :   species #> --- OK ----  :   plot_name #> --- OK ----  :   code_sp #> -                                           - #> -                                           - #> ##########           CRS           ########## #> -                                           - #> CRS : WGS 84 / UTM zone 33N #> -                                           - #> -                                           - #> ##########   DUPLICATED ID CHECK   ########## #> -                                           - #> --- OK ----  :  There is no duplicated id  crownsFile <- crownsFile %>% dplyr::rename(    geometry = geom )  check_crownsFile(crownsFile = crownsFile) #> ##########     VARIABLES CHECK     ########## #> -                                           - #> --- OK ----  :   geometry #> --- OK ----  :   id #> --- OK ----  :   family #> --- OK ----  :   genus #> --- OK ----  :   species #> --- OK ----  :   plot_name #> --- OK ----  :   code_sp #> -                                           - #> -                                           - #> ##########           CRS           ########## #> -                                           - #> CRS : WGS 84 / UTM zone 33N #> -                                           - #> -                                           - #> ##########   DUPLICATED ID CHECK   ########## #> -                                           - #> --- OK ----  :  There is no duplicated id  rgb_data <- extract_rgbValues( crownsFile = crownsFile, path_images = rgb_paths, fun = 'all', infos = FALSE ) #>    |                                                                               |                                                                      |   0%   |                                                                               |==                                                                    |   2%   |                                                                               |===                                                                   |   5%   |                                                                               |=====                                                                 |   7%   |                                                                               |=======                                                               |  10%   |                                                                               |=========                                                             |  12%   |                                                                               |==========                                                            |  15%   |                                                                               |============                                                          |  17%   |                                                                               |==============                                                        |  20%   |                                                                               |===============                                                       |  22%   |                                                                               |=================                                                     |  24%   |                                                                               |===================                                                   |  27%   |                                                                               |====================                                                  |  29%   |                                                                               |======================                                                |  32%   |                                                                               |========================                                              |  34%   |                                                                               |==========================                                            |  37%   |                                                                               |===========================                                           |  39%   |                                                                               |=============================                                         |  41%   |                                                                               |===============================                                       |  44%   |                                                                               |================================                                      |  46%   |                                                                               |==================================                                    |  49%   |                                                                               |====================================                                  |  51%   |                                                                               |======================================                                |  54%   |                                                                               |=======================================                               |  56%   |                                                                               |=========================================                             |  59%   |                                                                               |===========================================                           |  61%   |                                                                               |============================================                          |  63%   |                                                                               |==============================================                        |  66%   |                                                                               |================================================                      |  68%   |                                                                               |==================================================                    |  71%   |                                                                               |===================================================                   |  73%   |                                                                               |=====================================================                 |  76%   |                                                                               |=======================================================               |  78%   |                                                                               |========================================================              |  80%   |                                                                               |==========================================================            |  83%   |                                                                               |============================================================          |  85%   |                                                                               |=============================================================         |  88%   |                                                                               |===============================================================       |  90%   |                                                                               |=================================================================     |  93%   |                                                                               |===================================================================   |  95%   |                                                                               |====================================================================  |  98%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |==                                                                    |   2%   |                                                                               |===                                                                   |   5%   |                                                                               |=====                                                                 |   7%   |                                                                               |=======                                                               |  10%   |                                                                               |=========                                                             |  12%   |                                                                               |==========                                                            |  15%   |                                                                               |============                                                          |  17%   |                                                                               |==============                                                        |  20%   |                                                                               |===============                                                       |  22%   |                                                                               |=================                                                     |  24%   |                                                                               |===================                                                   |  27%   |                                                                               |====================                                                  |  29%   |                                                                               |======================                                                |  32%   |                                                                               |========================                                              |  34%   |                                                                               |==========================                                            |  37%   |                                                                               |===========================                                           |  39%   |                                                                               |=============================                                         |  41%   |                                                                               |===============================                                       |  44%   |                                                                               |================================                                      |  46%   |                                                                               |==================================                                    |  49%   |                                                                               |====================================                                  |  51%   |                                                                               |======================================                                |  54%   |                                                                               |=======================================                               |  56%   |                                                                               |=========================================                             |  59%   |                                                                               |===========================================                           |  61%   |                                                                               |============================================                          |  63%   |                                                                               |==============================================                        |  66%   |                                                                               |================================================                      |  68%   |                                                                               |==================================================                    |  71%   |                                                                               |===================================================                   |  73%   |                                                                               |=====================================================                 |  76%   |                                                                               |=======================================================               |  78%   |                                                                               |========================================================              |  80%   |                                                                               |==========================================================            |  83%   |                                                                               |============================================================          |  85%   |                                                                               |=============================================================         |  88%   |                                                                               |===============================================================       |  90%   |                                                                               |=================================================================     |  93%   |                                                                               |===================================================================   |  95%   |                                                                               |====================================================================  |  98%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |==                                                                    |   2%   |                                                                               |===                                                                   |   5%   |                                                                               |=====                                                                 |   7%   |                                                                               |=======                                                               |  10%   |                                                                               |=========                                                             |  12%   |                                                                               |==========                                                            |  15%   |                                                                               |============                                                          |  17%   |                                                                               |==============                                                        |  20%   |                                                                               |===============                                                       |  22%   |                                                                               |=================                                                     |  24%   |                                                                               |===================                                                   |  27%   |                                                                               |====================                                                  |  29%   |                                                                               |======================                                                |  32%   |                                                                               |========================                                              |  34%   |                                                                               |==========================                                            |  37%   |                                                                               |===========================                                           |  39%   |                                                                               |=============================                                         |  41%   |                                                                               |===============================                                       |  44%   |                                                                               |================================                                      |  46%   |                                                                               |==================================                                    |  49%   |                                                                               |====================================                                  |  51%   |                                                                               |======================================                                |  54%   |                                                                               |=======================================                               |  56%   |                                                                               |=========================================                             |  59%   |                                                                               |===========================================                           |  61%   |                                                                               |============================================                          |  63%   |                                                                               |==============================================                        |  66%   |                                                                               |================================================                      |  68%   |                                                                               |==================================================                    |  71%   |                                                                               |===================================================                   |  73%   |                                                                               |=====================================================                 |  76%   |                                                                               |=======================================================               |  78%   |                                                                               |========================================================              |  80%   |                                                                               |==========================================================            |  83%   |                                                                               |============================================================          |  85%   |                                                                               |=============================================================         |  88%   |                                                                               |===============================================================       |  90%   |                                                                               |=================================================================     |  93%   |                                                                               |===================================================================   |  95%   |                                                                               |====================================================================  |  98%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |==                                                                    |   2%   |                                                                               |===                                                                   |   5%   |                                                                               |=====                                                                 |   7%   |                                                                               |=======                                                               |  10%   |                                                                               |=========                                                             |  12%   |                                                                               |==========                                                            |  15%   |                                                                               |============                                                          |  17%   |                                                                               |==============                                                        |  20%   |                                                                               |===============                                                       |  22%   |                                                                               |=================                                                     |  24%   |                                                                               |===================                                                   |  27%   |                                                                               |====================                                                  |  29%   |                                                                               |======================                                                |  32%   |                                                                               |========================                                              |  34%   |                                                                               |==========================                                            |  37%   |                                                                               |===========================                                           |  39%   |                                                                               |=============================                                         |  41%   |                                                                               |===============================                                       |  44%   |                                                                               |================================                                      |  46%   |                                                                               |==================================                                    |  49%   |                                                                               |====================================                                  |  51%   |                                                                               |======================================                                |  54%   |                                                                               |=======================================                               |  56%   |                                                                               |=========================================                             |  59%   |                                                                               |===========================================                           |  61%   |                                                                               |============================================                          |  63%   |                                                                               |==============================================                        |  66%   |                                                                               |================================================                      |  68%   |                                                                               |==================================================                    |  71%   |                                                                               |===================================================                   |  73%   |                                                                               |=====================================================                 |  76%   |                                                                               |=======================================================               |  78%   |                                                                               |========================================================              |  80%   |                                                                               |==========================================================            |  83%   |                                                                               |============================================================          |  85%   |                                                                               |=============================================================         |  88%   |                                                                               |===============================================================       |  90%   |                                                                               |=================================================================     |  93%   |                                                                               |===================================================================   |  95%   |                                                                               |====================================================================  |  98%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |==                                                                    |   2%   |                                                                               |===                                                                   |   5%   |                                                                               |=====                                                                 |   7%   |                                                                               |=======                                                               |  10%   |                                                                               |=========                                                             |  12%   |                                                                               |==========                                                            |  15%   |                                                                               |============                                                          |  17%   |                                                                               |==============                                                        |  20%   |                                                                               |===============                                                       |  22%   |                                                                               |=================                                                     |  24%   |                                                                               |===================                                                   |  27%   |                                                                               |====================                                                  |  29%   |                                                                               |======================                                                |  32%   |                                                                               |========================                                              |  34%   |                                                                               |==========================                                            |  37%   |                                                                               |===========================                                           |  39%   |                                                                               |=============================                                         |  41%   |                                                                               |===============================                                       |  44%   |                                                                               |================================                                      |  46%   |                                                                               |==================================                                    |  49%   |                                                                               |====================================                                  |  51%   |                                                                               |======================================                                |  54%   |                                                                               |=======================================                               |  56%   |                                                                               |=========================================                             |  59%   |                                                                               |===========================================                           |  61%   |                                                                               |============================================                          |  63%   |                                                                               |==============================================                        |  66%   |                                                                               |================================================                      |  68%   |                                                                               |==================================================                    |  71%   |                                                                               |===================================================                   |  73%   |                                                                               |=====================================================                 |  76%   |                                                                               |=======================================================               |  78%   |                                                                               |========================================================              |  80%   |                                                                               |==========================================================            |  83%   |                                                                               |============================================================          |  85%   |                                                                               |=============================================================         |  88%   |                                                                               |===============================================================       |  90%   |                                                                               |=================================================================     |  93%   |                                                                               |===================================================================   |  95%   |                                                                               |====================================================================  |  98%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |==                                                                    |   2%   |                                                                               |===                                                                   |   5%   |                                                                               |=====                                                                 |   7%   |                                                                               |=======                                                               |  10%   |                                                                               |=========                                                             |  12%   |                                                                               |==========                                                            |  15%   |                                                                               |============                                                          |  17%   |                                                                               |==============                                                        |  20%   |                                                                               |===============                                                       |  22%   |                                                                               |=================                                                     |  24%   |                                                                               |===================                                                   |  27%   |                                                                               |====================                                                  |  29%   |                                                                               |======================                                                |  32%   |                                                                               |========================                                              |  34%   |                                                                               |==========================                                            |  37%   |                                                                               |===========================                                           |  39%   |                                                                               |=============================                                         |  41%   |                                                                               |===============================                                       |  44%   |                                                                               |================================                                      |  46%   |                                                                               |==================================                                    |  49%   |                                                                               |====================================                                  |  51%   |                                                                               |======================================                                |  54%   |                                                                               |=======================================                               |  56%   |                                                                               |=========================================                             |  59%   |                                                                               |===========================================                           |  61%   |                                                                               |============================================                          |  63%   |                                                                               |==============================================                        |  66%   |                                                                               |================================================                      |  68%   |                                                                               |==================================================                    |  71%   |                                                                               |===================================================                   |  73%   |                                                                               |=====================================================                 |  76%   |                                                                               |=======================================================               |  78%   |                                                                               |========================================================              |  80%   |                                                                               |==========================================================            |  83%   |                                                                               |============================================================          |  85%   |                                                                               |=============================================================         |  88%   |                                                                               |===============================================================       |  90%   |                                                                               |=================================================================     |  93%   |                                                                               |===================================================================   |  95%   |                                                                               |====================================================================  |  98%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |==                                                                    |   2%   |                                                                               |===                                                                   |   5%   |                                                                               |=====                                                                 |   7%   |                                                                               |=======                                                               |  10%   |                                                                               |=========                                                             |  12%   |                                                                               |==========                                                            |  15%   |                                                                               |============                                                          |  17%   |                                                                               |==============                                                        |  20%   |                                                                               |===============                                                       |  22%   |                                                                               |=================                                                     |  24%   |                                                                               |===================                                                   |  27%   |                                                                               |====================                                                  |  29%   |                                                                               |======================                                                |  32%   |                                                                               |========================                                              |  34%   |                                                                               |==========================                                            |  37%   |                                                                               |===========================                                           |  39%   |                                                                               |=============================                                         |  41%   |                                                                               |===============================                                       |  44%   |                                                                               |================================                                      |  46%   |                                                                               |==================================                                    |  49%   |                                                                               |====================================                                  |  51%   |                                                                               |======================================                                |  54%   |                                                                               |=======================================                               |  56%   |                                                                               |=========================================                             |  59%   |                                                                               |===========================================                           |  61%   |                                                                               |============================================                          |  63%   |                                                                               |==============================================                        |  66%   |                                                                               |================================================                      |  68%   |                                                                               |==================================================                    |  71%   |                                                                               |===================================================                   |  73%   |                                                                               |=====================================================                 |  76%   |                                                                               |=======================================================               |  78%   |                                                                               |========================================================              |  80%   |                                                                               |==========================================================            |  83%   |                                                                               |============================================================          |  85%   |                                                                               |=============================================================         |  88%   |                                                                               |===============================================================       |  90%   |                                                                               |=================================================================     |  93%   |                                                                               |===================================================================   |  95%   |                                                                               |====================================================================  |  98%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |==                                                                    |   2%   |                                                                               |===                                                                   |   5%   |                                                                               |=====                                                                 |   7%   |                                                                               |=======                                                               |  10%   |                                                                               |=========                                                             |  12%   |                                                                               |==========                                                            |  15%   |                                                                               |============                                                          |  17%   |                                                                               |==============                                                        |  20%   |                                                                               |===============                                                       |  22%   |                                                                               |=================                                                     |  24%   |                                                                               |===================                                                   |  27%   |                                                                               |====================                                                  |  29%   |                                                                               |======================                                                |  32%   |                                                                               |========================                                              |  34%   |                                                                               |==========================                                            |  37%   |                                                                               |===========================                                           |  39%   |                                                                               |=============================                                         |  41%   |                                                                               |===============================                                       |  44%   |                                                                               |================================                                      |  46%   |                                                                               |==================================                                    |  49%   |                                                                               |====================================                                  |  51%   |                                                                               |======================================                                |  54%   |                                                                               |=======================================                               |  56%   |                                                                               |=========================================                             |  59%   |                                                                               |===========================================                           |  61%   |                                                                               |============================================                          |  63%   |                                                                               |==============================================                        |  66%   |                                                                               |================================================                      |  68%   |                                                                               |==================================================                    |  71%   |                                                                               |===================================================                   |  73%   |                                                                               |=====================================================                 |  76%   |                                                                               |=======================================================               |  78%   |                                                                               |========================================================              |  80%   |                                                                               |==========================================================            |  83%   |                                                                               |============================================================          |  85%   |                                                                               |=============================================================         |  88%   |                                                                               |===============================================================       |  90%   |                                                                               |=================================================================     |  93%   |                                                                               |===================================================================   |  95%   |                                                                               |====================================================================  |  98%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |==                                                                    |   2%   |                                                                               |===                                                                   |   5%   |                                                                               |=====                                                                 |   7%   |                                                                               |=======                                                               |  10%   |                                                                               |=========                                                             |  12%   |                                                                               |==========                                                            |  15%   |                                                                               |============                                                          |  17%   |                                                                               |==============                                                        |  20%   |                                                                               |===============                                                       |  22%   |                                                                               |=================                                                     |  24%   |                                                                               |===================                                                   |  27%   |                                                                               |====================                                                  |  29%   |                                                                               |======================                                                |  32%   |                                                                               |========================                                              |  34%   |                                                                               |==========================                                            |  37%   |                                                                               |===========================                                           |  39%   |                                                                               |=============================                                         |  41%   |                                                                               |===============================                                       |  44%   |                                                                               |================================                                      |  46%   |                                                                               |==================================                                    |  49%   |                                                                               |====================================                                  |  51%   |                                                                               |======================================                                |  54%   |                                                                               |=======================================                               |  56%   |                                                                               |=========================================                             |  59%   |                                                                               |===========================================                           |  61%   |                                                                               |============================================                          |  63%   |                                                                               |==============================================                        |  66%   |                                                                               |================================================                      |  68%   |                                                                               |==================================================                    |  71%   |                                                                               |===================================================                   |  73%   |                                                                               |=====================================================                 |  76%   |                                                                               |=======================================================               |  78%   |                                                                               |========================================================              |  80%   |                                                                               |==========================================================            |  83%   |                                                                               |============================================================          |  85%   |                                                                               |=============================================================         |  88%   |                                                                               |===============================================================       |  90%   |                                                                               |=================================================================     |  93%   |                                                                               |===================================================================   |  95%   |                                                                               |====================================================================  |  98%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |==                                                                    |   2%   |                                                                               |===                                                                   |   5%   |                                                                               |=====                                                                 |   7%   |                                                                               |=======                                                               |  10%   |                                                                               |=========                                                             |  12%   |                                                                               |==========                                                            |  15%   |                                                                               |============                                                          |  17%   |                                                                               |==============                                                        |  20%   |                                                                               |===============                                                       |  22%   |                                                                               |=================                                                     |  24%   |                                                                               |===================                                                   |  27%   |                                                                               |====================                                                  |  29%   |                                                                               |======================                                                |  32%   |                                                                               |========================                                              |  34%   |                                                                               |==========================                                            |  37%   |                                                                               |===========================                                           |  39%   |                                                                               |=============================                                         |  41%   |                                                                               |===============================                                       |  44%   |                                                                               |================================                                      |  46%   |                                                                               |==================================                                    |  49%   |                                                                               |====================================                                  |  51%   |                                                                               |======================================                                |  54%   |                                                                               |=======================================                               |  56%   |                                                                               |=========================================                             |  59%   |                                                                               |===========================================                           |  61%   |                                                                               |============================================                          |  63%   |                                                                               |==============================================                        |  66%   |                                                                               |================================================                      |  68%   |                                                                               |==================================================                    |  71%   |                                                                               |===================================================                   |  73%   |                                                                               |=====================================================                 |  76%   |                                                                               |=======================================================               |  78%   |                                                                               |========================================================              |  80%   |                                                                               |==========================================================            |  83%   |                                                                               |============================================================          |  85%   |                                                                               |=============================================================         |  88%   |                                                                               |===============================================================       |  90%   |                                                                               |=================================================================     |  93%   |                                                                               |===================================================================   |  95%   |                                                                               |====================================================================  |  98%   |                                                                               |======================================================================| 100%"},{"path":"https://hugolblc.github.io/managecrownsdata/reference/heatmap_Labels.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot the heatmap of Labels — heatmap_Labels","title":"Plot the heatmap of Labels — heatmap_Labels","text":"fct function","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/heatmap_Labels.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot the heatmap of Labels — heatmap_Labels","text":"","code":"heatmap_Labels(   longLabels,   Species = NULL,   Genus = NULL,   Family = NULL,   title = NULL,   simplify = FALSE,   repro = FALSE )"},{"path":"https://hugolblc.github.io/managecrownsdata/reference/heatmap_Labels.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot the heatmap of Labels — heatmap_Labels","text":"longLabels tibble dataframe long data format labels Species chr. Specifying species want filter Genus chr. Specifying genus want filter Family chr. Specifying family(ies) want filter title chr. title plot simplify logical. TRUE, plot use simplified labels instead raw labels. repro logical. TRUE, flowers fruits observations add plot.","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/heatmap_Labels.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot the heatmap of Labels — heatmap_Labels","text":"return ggplot","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/heatmap_Labels.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot the heatmap of Labels — heatmap_Labels","text":"","code":"library(readxl)  raw_labels <- read_excel( file.path(system.file(package=\"managecrownsdata\"), 'xlsx/labeling_file_Bouamir.xlsx') )  pivotLabels <- pivot_Labels(raw_labels)  heatmap_Labels(pivotLabels, Specie = NULL, Genus = 'Desbordesia', Family = NULL, title = NULL) #> Warning: No shared levels found between `names(values)` of the manual scale and the #> data's colour values. #> Warning: No shared levels found between `names(values)` of the manual scale and the #> data's shape values.   pivotLabels_simplify <- pivot_Labels(raw_labels, simplify_labels = TRUE)  heatmap_Labels(pivotLabels_simplify, Specie = NULL, Genus = 'Desbordesia', Family = NULL, title = NULL, simplify = TRUE) #> Warning: Removed 950 rows containing missing values or values outside the scale range #> (`geom_point()`)."},{"path":"https://hugolblc.github.io/managecrownsdata/reference/merge_values.html","id":null,"dir":"Reference","previous_headings":"","what":"Merge labels and rgb values — merge_values","title":"Merge labels and rgb values — merge_values","text":"function merge labels long format rgb metrics values.","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/merge_values.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Merge labels and rgb values — merge_values","text":"","code":"merge_values(longLabels, rgbValues)"},{"path":"https://hugolblc.github.io/managecrownsdata/reference/merge_values.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Merge labels and rgb values — merge_values","text":"longLabels tibble dataframe contains labels directly import xlsx file. rgbValues tibble dataframe rgb metrics values.","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/merge_values.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Merge labels and rgb values — merge_values","text":"tibble","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/merge_values.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Merge labels and rgb values — merge_values","text":"","code":"library(sf) library(dplyr) library(readxl)  path_crownsFile <- file.path( system.file(package=\"managecrownsdata\"), 'crowns/Bouamir_crowns.gpkg') crownsFile <- sf::read_sf(path_crownsFile) rgb_paths <- list.files( file.path( system.file(package=\"managecrownsdata\"), 'rgb/'), full.names = TRUE )  check_crownsFile(crownsFile = crownsFile) #> ##########     VARIABLES CHECK     ########## #> -                                           - #> -- ERROR --  :   geometry variable missing or not well named #> --- OK ----  :   id #> --- OK ----  :   family #> --- OK ----  :   genus #> --- OK ----  :   species #> --- OK ----  :   plot_name #> --- OK ----  :   code_sp #> -                                           - #> -                                           - #> ##########           CRS           ########## #> -                                           - #> CRS : WGS 84 / UTM zone 33N #> -                                           - #> -                                           - #> ##########   DUPLICATED ID CHECK   ########## #> -                                           - #> --- OK ----  :  There is no duplicated id  crownsFile <- crownsFile %>% dplyr::rename(    geometry = geom )  check_crownsFile(crownsFile = crownsFile) #> ##########     VARIABLES CHECK     ########## #> -                                           - #> --- OK ----  :   geometry #> --- OK ----  :   id #> --- OK ----  :   family #> --- OK ----  :   genus #> --- OK ----  :   species #> --- OK ----  :   plot_name #> --- OK ----  :   code_sp #> -                                           - #> -                                           - #> ##########           CRS           ########## #> -                                           - #> CRS : WGS 84 / UTM zone 33N #> -                                           - #> -                                           - #> ##########   DUPLICATED ID CHECK   ########## #> -                                           - #> --- OK ----  :  There is no duplicated id  rgbValues <- extract_rgbValues( crownsFile = crownsFile, path_images = rgb_paths, fun = 'all', infos = FALSE ) #>    |                                                                               |                                                                      |   0%   |                                                                               |==                                                                    |   2%   |                                                                               |===                                                                   |   5%   |                                                                               |=====                                                                 |   7%   |                                                                               |=======                                                               |  10%   |                                                                               |=========                                                             |  12%   |                                                                               |==========                                                            |  15%   |                                                                               |============                                                          |  17%   |                                                                               |==============                                                        |  20%   |                                                                               |===============                                                       |  22%   |                                                                               |=================                                                     |  24%   |                                                                               |===================                                                   |  27%   |                                                                               |====================                                                  |  29%   |                                                                               |======================                                                |  32%   |                                                                               |========================                                              |  34%   |                                                                               |==========================                                            |  37%   |                                                                               |===========================                                           |  39%   |                                                                               |=============================                                         |  41%   |                                                                               |===============================                                       |  44%   |                                                                               |================================                                      |  46%   |                                                                               |==================================                                    |  49%   |                                                                               |====================================                                  |  51%   |                                                                               |======================================                                |  54%   |                                                                               |=======================================                               |  56%   |                                                                               |=========================================                             |  59%   |                                                                               |===========================================                           |  61%   |                                                                               |============================================                          |  63%   |                                                                               |==============================================                        |  66%   |                                                                               |================================================                      |  68%   |                                                                               |==================================================                    |  71%   |                                                                               |===================================================                   |  73%   |                                                                               |=====================================================                 |  76%   |                                                                               |=======================================================               |  78%   |                                                                               |========================================================              |  80%   |                                                                               |==========================================================            |  83%   |                                                                               |============================================================          |  85%   |                                                                               |=============================================================         |  88%   |                                                                               |===============================================================       |  90%   |                                                                               |=================================================================     |  93%   |                                                                               |===================================================================   |  95%   |                                                                               |====================================================================  |  98%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |==                                                                    |   2%   |                                                                               |===                                                                   |   5%   |                                                                               |=====                                                                 |   7%   |                                                                               |=======                                                               |  10%   |                                                                               |=========                                                             |  12%   |                                                                               |==========                                                            |  15%   |                                                                               |============                                                          |  17%   |                                                                               |==============                                                        |  20%   |                                                                               |===============                                                       |  22%   |                                                                               |=================                                                     |  24%   |                                                                               |===================                                                   |  27%   |                                                                               |====================                                                  |  29%   |                                                                               |======================                                                |  32%   |                                                                               |========================                                              |  34%   |                                                                               |==========================                                            |  37%   |                                                                               |===========================                                           |  39%   |                                                                               |=============================                                         |  41%   |                                                                               |===============================                                       |  44%   |                                                                               |================================                                      |  46%   |                                                                               |==================================                                    |  49%   |                                                                               |====================================                                  |  51%   |                                                                               |======================================                                |  54%   |                                                                               |=======================================                               |  56%   |                                                                               |=========================================                             |  59%   |                                                                               |===========================================                           |  61%   |                                                                               |============================================                          |  63%   |                                                                               |==============================================                        |  66%   |                                                                               |================================================                      |  68%   |                                                                               |==================================================                    |  71%   |                                                                               |===================================================                   |  73%   |                                                                               |=====================================================                 |  76%   |                                                                               |=======================================================               |  78%   |                                                                               |========================================================              |  80%   |                                                                               |==========================================================            |  83%   |                                                                               |============================================================          |  85%   |                                                                               |=============================================================         |  88%   |                                                                               |===============================================================       |  90%   |                                                                               |=================================================================     |  93%   |                                                                               |===================================================================   |  95%   |                                                                               |====================================================================  |  98%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |==                                                                    |   2%   |                                                                               |===                                                                   |   5%   |                                                                               |=====                                                                 |   7%   |                                                                               |=======                                                               |  10%   |                                                                               |=========                                                             |  12%   |                                                                               |==========                                                            |  15%   |                                                                               |============                                                          |  17%   |                                                                               |==============                                                        |  20%   |                                                                               |===============                                                       |  22%   |                                                                               |=================                                                     |  24%   |                                                                               |===================                                                   |  27%   |                                                                               |====================                                                  |  29%   |                                                                               |======================                                                |  32%   |                                                                               |========================                                              |  34%   |                                                                               |==========================                                            |  37%   |                                                                               |===========================                                           |  39%   |                                                                               |=============================                                         |  41%   |                                                                               |===============================                                       |  44%   |                                                                               |================================                                      |  46%   |                                                                               |==================================                                    |  49%   |                                                                               |====================================                                  |  51%   |                                                                               |======================================                                |  54%   |                                                                               |=======================================                               |  56%   |                                                                               |=========================================                             |  59%   |                                                                               |===========================================                           |  61%   |                                                                               |============================================                          |  63%   |                                                                               |==============================================                        |  66%   |                                                                               |================================================                      |  68%   |                                                                               |==================================================                    |  71%   |                                                                               |===================================================                   |  73%   |                                                                               |=====================================================                 |  76%   |                                                                               |=======================================================               |  78%   |                                                                               |========================================================              |  80%   |                                                                               |==========================================================            |  83%   |                                                                               |============================================================          |  85%   |                                                                               |=============================================================         |  88%   |                                                                               |===============================================================       |  90%   |                                                                               |=================================================================     |  93%   |                                                                               |===================================================================   |  95%   |                                                                               |====================================================================  |  98%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |==                                                                    |   2%   |                                                                               |===                                                                   |   5%   |                                                                               |=====                                                                 |   7%   |                                                                               |=======                                                               |  10%   |                                                                               |=========                                                             |  12%   |                                                                               |==========                                                            |  15%   |                                                                               |============                                                          |  17%   |                                                                               |==============                                                        |  20%   |                                                                               |===============                                                       |  22%   |                                                                               |=================                                                     |  24%   |                                                                               |===================                                                   |  27%   |                                                                               |====================                                                  |  29%   |                                                                               |======================                                                |  32%   |                                                                               |========================                                              |  34%   |                                                                               |==========================                                            |  37%   |                                                                               |===========================                                           |  39%   |                                                                               |=============================                                         |  41%   |                                                                               |===============================                                       |  44%   |                                                                               |================================                                      |  46%   |                                                                               |==================================                                    |  49%   |                                                                               |====================================                                  |  51%   |                                                                               |======================================                                |  54%   |                                                                               |=======================================                               |  56%   |                                                                               |=========================================                             |  59%   |                                                                               |===========================================                           |  61%   |                                                                               |============================================                          |  63%   |                                                                               |==============================================                        |  66%   |                                                                               |================================================                      |  68%   |                                                                               |==================================================                    |  71%   |                                                                               |===================================================                   |  73%   |                                                                               |=====================================================                 |  76%   |                                                                               |=======================================================               |  78%   |                                                                               |========================================================              |  80%   |                                                                               |==========================================================            |  83%   |                                                                               |============================================================          |  85%   |                                                                               |=============================================================         |  88%   |                                                                               |===============================================================       |  90%   |                                                                               |=================================================================     |  93%   |                                                                               |===================================================================   |  95%   |                                                                               |====================================================================  |  98%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |==                                                                    |   2%   |                                                                               |===                                                                   |   5%   |                                                                               |=====                                                                 |   7%   |                                                                               |=======                                                               |  10%   |                                                                               |=========                                                             |  12%   |                                                                               |==========                                                            |  15%   |                                                                               |============                                                          |  17%   |                                                                               |==============                                                        |  20%   |                                                                               |===============                                                       |  22%   |                                                                               |=================                                                     |  24%   |                                                                               |===================                                                   |  27%   |                                                                               |====================                                                  |  29%   |                                                                               |======================                                                |  32%   |                                                                               |========================                                              |  34%   |                                                                               |==========================                                            |  37%   |                                                                               |===========================                                           |  39%   |                                                                               |=============================                                         |  41%   |                                                                               |===============================                                       |  44%   |                                                                               |================================                                      |  46%   |                                                                               |==================================                                    |  49%   |                                                                               |====================================                                  |  51%   |                                                                               |======================================                                |  54%   |                                                                               |=======================================                               |  56%   |                                                                               |=========================================                             |  59%   |                                                                               |===========================================                           |  61%   |                                                                               |============================================                          |  63%   |                                                                               |==============================================                        |  66%   |                                                                               |================================================                      |  68%   |                                                                               |==================================================                    |  71%   |                                                                               |===================================================                   |  73%   |                                                                               |=====================================================                 |  76%   |                                                                               |=======================================================               |  78%   |                                                                               |========================================================              |  80%   |                                                                               |==========================================================            |  83%   |                                                                               |============================================================          |  85%   |                                                                               |=============================================================         |  88%   |                                                                               |===============================================================       |  90%   |                                                                               |=================================================================     |  93%   |                                                                               |===================================================================   |  95%   |                                                                               |====================================================================  |  98%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |==                                                                    |   2%   |                                                                               |===                                                                   |   5%   |                                                                               |=====                                                                 |   7%   |                                                                               |=======                                                               |  10%   |                                                                               |=========                                                             |  12%   |                                                                               |==========                                                            |  15%   |                                                                               |============                                                          |  17%   |                                                                               |==============                                                        |  20%   |                                                                               |===============                                                       |  22%   |                                                                               |=================                                                     |  24%   |                                                                               |===================                                                   |  27%   |                                                                               |====================                                                  |  29%   |                                                                               |======================                                                |  32%   |                                                                               |========================                                              |  34%   |                                                                               |==========================                                            |  37%   |                                                                               |===========================                                           |  39%   |                                                                               |=============================                                         |  41%   |                                                                               |===============================                                       |  44%   |                                                                               |================================                                      |  46%   |                                                                               |==================================                                    |  49%   |                                                                               |====================================                                  |  51%   |                                                                               |======================================                                |  54%   |                                                                               |=======================================                               |  56%   |                                                                               |=========================================                             |  59%   |                                                                               |===========================================                           |  61%   |                                                                               |============================================                          |  63%   |                                                                               |==============================================                        |  66%   |                                                                               |================================================                      |  68%   |                                                                               |==================================================                    |  71%   |                                                                               |===================================================                   |  73%   |                                                                               |=====================================================                 |  76%   |                                                                               |=======================================================               |  78%   |                                                                               |========================================================              |  80%   |                                                                               |==========================================================            |  83%   |                                                                               |============================================================          |  85%   |                                                                               |=============================================================         |  88%   |                                                                               |===============================================================       |  90%   |                                                                               |=================================================================     |  93%   |                                                                               |===================================================================   |  95%   |                                                                               |====================================================================  |  98%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |==                                                                    |   2%   |                                                                               |===                                                                   |   5%   |                                                                               |=====                                                                 |   7%   |                                                                               |=======                                                               |  10%   |                                                                               |=========                                                             |  12%   |                                                                               |==========                                                            |  15%   |                                                                               |============                                                          |  17%   |                                                                               |==============                                                        |  20%   |                                                                               |===============                                                       |  22%   |                                                                               |=================                                                     |  24%   |                                                                               |===================                                                   |  27%   |                                                                               |====================                                                  |  29%   |                                                                               |======================                                                |  32%   |                                                                               |========================                                              |  34%   |                                                                               |==========================                                            |  37%   |                                                                               |===========================                                           |  39%   |                                                                               |=============================                                         |  41%   |                                                                               |===============================                                       |  44%   |                                                                               |================================                                      |  46%   |                                                                               |==================================                                    |  49%   |                                                                               |====================================                                  |  51%   |                                                                               |======================================                                |  54%   |                                                                               |=======================================                               |  56%   |                                                                               |=========================================                             |  59%   |                                                                               |===========================================                           |  61%   |                                                                               |============================================                          |  63%   |                                                                               |==============================================                        |  66%   |                                                                               |================================================                      |  68%   |                                                                               |==================================================                    |  71%   |                                                                               |===================================================                   |  73%   |                                                                               |=====================================================                 |  76%   |                                                                               |=======================================================               |  78%   |                                                                               |========================================================              |  80%   |                                                                               |==========================================================            |  83%   |                                                                               |============================================================          |  85%   |                                                                               |=============================================================         |  88%   |                                                                               |===============================================================       |  90%   |                                                                               |=================================================================     |  93%   |                                                                               |===================================================================   |  95%   |                                                                               |====================================================================  |  98%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |==                                                                    |   2%   |                                                                               |===                                                                   |   5%   |                                                                               |=====                                                                 |   7%   |                                                                               |=======                                                               |  10%   |                                                                               |=========                                                             |  12%   |                                                                               |==========                                                            |  15%   |                                                                               |============                                                          |  17%   |                                                                               |==============                                                        |  20%   |                                                                               |===============                                                       |  22%   |                                                                               |=================                                                     |  24%   |                                                                               |===================                                                   |  27%   |                                                                               |====================                                                  |  29%   |                                                                               |======================                                                |  32%   |                                                                               |========================                                              |  34%   |                                                                               |==========================                                            |  37%   |                                                                               |===========================                                           |  39%   |                                                                               |=============================                                         |  41%   |                                                                               |===============================                                       |  44%   |                                                                               |================================                                      |  46%   |                                                                               |==================================                                    |  49%   |                                                                               |====================================                                  |  51%   |                                                                               |======================================                                |  54%   |                                                                               |=======================================                               |  56%   |                                                                               |=========================================                             |  59%   |                                                                               |===========================================                           |  61%   |                                                                               |============================================                          |  63%   |                                                                               |==============================================                        |  66%   |                                                                               |================================================                      |  68%   |                                                                               |==================================================                    |  71%   |                                                                               |===================================================                   |  73%   |                                                                               |=====================================================                 |  76%   |                                                                               |=======================================================               |  78%   |                                                                               |========================================================              |  80%   |                                                                               |==========================================================            |  83%   |                                                                               |============================================================          |  85%   |                                                                               |=============================================================         |  88%   |                                                                               |===============================================================       |  90%   |                                                                               |=================================================================     |  93%   |                                                                               |===================================================================   |  95%   |                                                                               |====================================================================  |  98%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |==                                                                    |   2%   |                                                                               |===                                                                   |   5%   |                                                                               |=====                                                                 |   7%   |                                                                               |=======                                                               |  10%   |                                                                               |=========                                                             |  12%   |                                                                               |==========                                                            |  15%   |                                                                               |============                                                          |  17%   |                                                                               |==============                                                        |  20%   |                                                                               |===============                                                       |  22%   |                                                                               |=================                                                     |  24%   |                                                                               |===================                                                   |  27%   |                                                                               |====================                                                  |  29%   |                                                                               |======================                                                |  32%   |                                                                               |========================                                              |  34%   |                                                                               |==========================                                            |  37%   |                                                                               |===========================                                           |  39%   |                                                                               |=============================                                         |  41%   |                                                                               |===============================                                       |  44%   |                                                                               |================================                                      |  46%   |                                                                               |==================================                                    |  49%   |                                                                               |====================================                                  |  51%   |                                                                               |======================================                                |  54%   |                                                                               |=======================================                               |  56%   |                                                                               |=========================================                             |  59%   |                                                                               |===========================================                           |  61%   |                                                                               |============================================                          |  63%   |                                                                               |==============================================                        |  66%   |                                                                               |================================================                      |  68%   |                                                                               |==================================================                    |  71%   |                                                                               |===================================================                   |  73%   |                                                                               |=====================================================                 |  76%   |                                                                               |=======================================================               |  78%   |                                                                               |========================================================              |  80%   |                                                                               |==========================================================            |  83%   |                                                                               |============================================================          |  85%   |                                                                               |=============================================================         |  88%   |                                                                               |===============================================================       |  90%   |                                                                               |=================================================================     |  93%   |                                                                               |===================================================================   |  95%   |                                                                               |====================================================================  |  98%   |                                                                               |======================================================================| 100% #>    |                                                                               |                                                                      |   0%   |                                                                               |==                                                                    |   2%   |                                                                               |===                                                                   |   5%   |                                                                               |=====                                                                 |   7%   |                                                                               |=======                                                               |  10%   |                                                                               |=========                                                             |  12%   |                                                                               |==========                                                            |  15%   |                                                                               |============                                                          |  17%   |                                                                               |==============                                                        |  20%   |                                                                               |===============                                                       |  22%   |                                                                               |=================                                                     |  24%   |                                                                               |===================                                                   |  27%   |                                                                               |====================                                                  |  29%   |                                                                               |======================                                                |  32%   |                                                                               |========================                                              |  34%   |                                                                               |==========================                                            |  37%   |                                                                               |===========================                                           |  39%   |                                                                               |=============================                                         |  41%   |                                                                               |===============================                                       |  44%   |                                                                               |================================                                      |  46%   |                                                                               |==================================                                    |  49%   |                                                                               |====================================                                  |  51%   |                                                                               |======================================                                |  54%   |                                                                               |=======================================                               |  56%   |                                                                               |=========================================                             |  59%   |                                                                               |===========================================                           |  61%   |                                                                               |============================================                          |  63%   |                                                                               |==============================================                        |  66%   |                                                                               |================================================                      |  68%   |                                                                               |==================================================                    |  71%   |                                                                               |===================================================                   |  73%   |                                                                               |=====================================================                 |  76%   |                                                                               |=======================================================               |  78%   |                                                                               |========================================================              |  80%   |                                                                               |==========================================================            |  83%   |                                                                               |============================================================          |  85%   |                                                                               |=============================================================         |  88%   |                                                                               |===============================================================       |  90%   |                                                                               |=================================================================     |  93%   |                                                                               |===================================================================   |  95%   |                                                                               |====================================================================  |  98%   |                                                                               |======================================================================| 100%  raw_labels <- read_excel( file.path( system.file(package=\"managecrownsdata\"), 'xlsx/labeling_file_Bouamir.xlsx') ) longLabels <- pivot_Labels(raw_labels, simplify_labels = TRUE)  merge_values(longLabels, rgbValues) #> # A tibble: 3,690 × 17 #>    site       id date       family   genus species phenophase type  metric band  #>    <fct>   <int> <date>     <fct>    <fct> <fct>   <chr>      <fct> <fct>  <fct> #>  1 Bouamir   366 2022-04-27 Combret… Ptel… Pteleo… D          RGB   mean   red   #>  2 Bouamir   427 2022-04-27 Combret… Ptel… Pteleo… L          RGB   mean   red   #>  3 Bouamir   428 2022-04-27 Bursera… Cana… Canari… L          RGB   mean   red   #>  4 Bouamir   429 2022-04-27 Sapotac… Bail… Baillo… F          RGB   mean   red   #>  5 Bouamir   433 2022-04-27 Moraceae Mili… Milici… L          RGB   mean   red   #>  6 Bouamir   436 2022-04-27 Annonac… Xylo… Xylopi… L;fl?      RGB   mean   red   #>  7 Bouamir   665 2022-04-27 Irvingi… Desb… Desbor… L          RGB   mean   red   #>  8 Bouamir   666 2022-04-27 Irvingi… Desb… Desbor… L          RGB   mean   red   #>  9 Bouamir   667 2022-04-27 Malvace… Erib… Eribro… L          RGB   mean   red   #> 10 Bouamir   668 2022-04-27 Irvingi… Desb… Desbor… L          RGB   mean   red   #> # ℹ 3,680 more rows #> # ℹ 7 more variables: value <dbl>, plot_name <fct>, code_sp <dbl>, obs <chr>, #> #   Comm <chr>, update <chr>, Usable_crown <lgl>"},{"path":"https://hugolblc.github.io/managecrownsdata/reference/pivot_Labels.html","id":null,"dir":"Reference","previous_headings":"","what":"Format labels values from wide data to long data — pivot_Labels","title":"Format labels values from wide data to long data — pivot_Labels","text":"function format labels data wide long format","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/pivot_Labels.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format labels values from wide data to long data — pivot_Labels","text":"","code":"pivot_Labels(wideLabels, simplify_labels = FALSE)"},{"path":"https://hugolblc.github.io/managecrownsdata/reference/pivot_Labels.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format labels values from wide data to long data — pivot_Labels","text":"wideLabels tibble dataframe contains labeling data directly import xlsx file. simplify_labels logical Decompose simplify labels TRUE. defaut FALSE.","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/pivot_Labels.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Format labels values from wide data to long data — pivot_Labels","text":"tibble","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/pivot_Labels.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Format labels values from wide data to long data — pivot_Labels","text":"","code":"library(readxl)  raw_labels <- read_excel( file.path( system.file(package=\"managecrownsdata\"), 'xlsx/labeling_file_Bouamir.xlsx') )  pivot_Labels(raw_labels) #> # A tibble: 2,050 × 12 #>    site       id species    genus family     n date       phenophase obs   Comm  #>    <chr>   <int> <chr>      <chr> <chr>  <dbl> <date>     <chr>      <chr> <chr> #>  1 Bouamir   665 Desbordes… Desb… Irvin…   248 2022-03-26 L          YN    NA    #>  2 Bouamir   666 Desbordes… Desb… Irvin…   248 2022-03-26 L          YN    NA    #>  3 Bouamir   668 Desbordes… Desb… Irvin…   248 2022-03-26 L          YN    NA    #>  4 Bouamir   669 Desbordes… Desb… Irvin…   248 2022-03-26 L          YN    NA    #>  5 Bouamir   670 Desbordes… Desb… Irvin…   248 2022-03-26 L          YN    NA    #>  6 Bouamir   671 Desbordes… Desb… Irvin…   248 2022-03-26 L          YN    NA    #>  7 Bouamir   673 Desbordes… Desb… Irvin…   248 2022-03-26 L          YN    NA    #>  8 Bouamir   674 Desbordes… Desb… Irvin…   248 2022-03-26 L          YN    NA    #>  9 Bouamir   676 Desbordes… Desb… Irvin…   248 2022-03-26 L          YN    NA    #> 10 Bouamir   678 Desbordes… Desb… Irvin…   248 2022-03-26 L          YN    NA    #> # ℹ 2,040 more rows #> # ℹ 2 more variables: update <chr>, Usable_crown <lgl>  pivot_Labels(raw_labels, simplify_labels = TRUE) #> # A tibble: 2,050 × 21 #>    site       id species      genus family     n date       phenophase PPfoliar1 #>    <chr>   <int> <chr>        <chr> <chr>  <dbl> <date>     <chr>      <chr>     #>  1 Bouamir   665 Desbordesia… Desb… Irvin…   248 2022-03-26 L          L         #>  2 Bouamir   666 Desbordesia… Desb… Irvin…   248 2022-03-26 L          L         #>  3 Bouamir   668 Desbordesia… Desb… Irvin…   248 2022-03-26 L          L         #>  4 Bouamir   669 Desbordesia… Desb… Irvin…   248 2022-03-26 L          L         #>  5 Bouamir   670 Desbordesia… Desb… Irvin…   248 2022-03-26 L          L         #>  6 Bouamir   671 Desbordesia… Desb… Irvin…   248 2022-03-26 L          L         #>  7 Bouamir   673 Desbordesia… Desb… Irvin…   248 2022-03-26 L          L         #>  8 Bouamir   674 Desbordesia… Desb… Irvin…   248 2022-03-26 L          L         #>  9 Bouamir   676 Desbordesia… Desb… Irvin…   248 2022-03-26 L          L         #> 10 Bouamir   678 Desbordesia… Desb… Irvin…   248 2022-03-26 L          L         #> # ℹ 2,040 more rows #> # ℹ 12 more variables: PPfoliar2 <chr>, PPFlo <dbl>, PPFr <dbl>, #> #   PPFlo_uncertainty <dbl>, PPFr_uncertainty <dbl>, desynchr <dbl>, #> #   PPfoliar1_uncertainty <dbl>, PPfoliar2_uncertainty <dbl>, obs <chr>, #> #   Comm <chr>, update <chr>, Usable_crown <lgl>"},{"path":"https://hugolblc.github.io/managecrownsdata/reference/plot_signal.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot the spectral signal over time — plot_signal","title":"Plot the spectral signal over time — plot_signal","text":"fct function","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/plot_signal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot the spectral signal over time — plot_signal","text":"","code":"plot_signal(   data,   Species = NULL,   Genus = NULL,   Family = NULL,   Type = NULL,   Metric = \"mean\",   Band = NULL,   facet_by = \"band\",   slcted_id = NULL,   show_Labels = FALSE,   title = NULL )"},{"path":"https://hugolblc.github.io/managecrownsdata/reference/plot_signal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot the spectral signal over time — plot_signal","text":"data tibble dataframe long data format labels Species chr. Specifying species want filter Genus chr. Specifying genus want filter Family chr. Specifying family(ies) want filter Type chr. Specifying type(s) want filter Metric chr. Specifying metric(s) want filter. defaut 'mean' Band chr. Specifying bande(s) want filter facet_by chr. Facetting variable. defaut 'band' slcted_id num. Highlighting id show_Labels logical. TRUE, shows phenophase labels plot. title chr. title plot","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/plot_signal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot the spectral signal over time — plot_signal","text":"return ggplot","code":""},{"path":"https://hugolblc.github.io/managecrownsdata/reference/plot_signal.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot the spectral signal over time — plot_signal","text":"","code":"library(readxl)  data('data')  plot_signal(data = data, Genus = 'Desbordesia')   plot_signal(data = data, Genus = 'Desbordesia', slcted_id = 676, Band = c('gli', 'gndvi') )   plot_signal(data = data, Genus = 'Desbordesia', Band = c('gli'), slcted_id = 676, show_Labels = TRUE ) #> Warning: Ignoring unknown parameters: `fontface`"}]
